{"ast":null,"code":"import { __awaiter as e } from \"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";\nimport { errorNotSupportedOnPlatform as t } from \"../public/constants.js\";\nimport { EffectFailureReason as r } from \"../public/videoEffects.js\";\nimport { sendMessageToParent as i } from \"./communication.js\";\nimport { registerHandler as o } from \"./handlers.js\";\nimport { getApiVersionTag as a } from \"./telemetry.js\";\nimport { inServerSideRenderingEnvironment as n, ssrSafeWindow as s } from \"./utils.js\";\nconst d = \"v2\";\nfunction h(t, r, i, o) {\n  var a, s;\n  return e(this, void 0, void 0, function* () {\n    const e = f();\n    !n() && (null === (s = null === (a = window.chrome) || void 0 === a ? void 0 : a.webview) || void 0 === s || s.registerTextureStream(t, e)), l(yield u(t, i, o), new m(i, r), e.writable);\n  });\n}\nfunction c(t, r, i, o) {\n  var a, s;\n  return e(this, void 0, void 0, function* () {\n    const e = f();\n    !n() && (null === (s = null === (a = window.chrome) || void 0 === a ? void 0 : a.webview) || void 0 === s || s.registerTextureStream(t, e)), l(yield u(t, i, o), new v(i, r), e.writable);\n  });\n}\nfunction u(r, i, o) {\n  return e(this, void 0, void 0, function* () {\n    if (n()) throw t;\n    const e = s().chrome;\n    try {\n      null == o || o.reportGettingTextureStream(r);\n      const t = (yield e.webview.getTextureStream(r)).getVideoTracks();\n      if (0 === t.length) throw new Error(\"No video track in stream \".concat(r));\n      return null == o || o.reportTextureStreamAcquired(), t[0];\n    } catch (e) {\n      throw i(\"Failed to get video track from stream \".concat(r, \", error: \").concat(e)), new Error(\"Internal error: can't get video track from stream \".concat(r));\n    }\n  });\n}\nfunction f() {\n  if (n()) throw t;\n  const e = window.MediaStreamTrackGenerator;\n  if (!e) throw t;\n  return new e({\n    kind: \"video\"\n  });\n}\nfunction l(e, t, r) {\n  new (0, s().MediaStreamTrackProcessor)({\n    track: e\n  }).readable.pipeThrough(new TransformStream(t)).pipeTo(r);\n}\nclass m {\n  constructor(t, r) {\n    this.notifyError = t, this.videoFrameHandler = r, this.transform = (t, r) => e(this, void 0, void 0, function* () {\n      const e = t.timestamp;\n      if (null !== e) try {\n        const i = yield this.videoFrameHandler({\n            videoFrame: t\n          }),\n          o = new VideoFrame(i, {\n            timestamp: e\n          });\n        r.enqueue(o), t.close(), i.close();\n      } catch (e) {\n        t.close(), this.notifyError(e);\n      } else this.notifyError(\"timestamp of the original video frame is null\");\n    });\n  }\n}\nclass w {\n  constructor(e, t) {\n    if (this.headerBuffer = e, this.notifyError = t, this.ONE_TEXTURE_INPUT_ID = 1869900081, this.INVALID_HEADER_ERROR = \"Invalid video frame header\", this.UNSUPPORTED_LAYOUT_ERROR = \"Unsupported texture layout\", this.headerDataView = new Uint32Array(e), this.headerDataView.length < 8) throw this.notifyError(this.INVALID_HEADER_ERROR), new Error(this.INVALID_HEADER_ERROR);\n    if (this.headerDataView[0] !== this.ONE_TEXTURE_INPUT_ID) throw this.notifyError(this.UNSUPPORTED_LAYOUT_ERROR), new Error(this.UNSUPPORTED_LAYOUT_ERROR);\n  }\n  get oneTextureLayoutId() {\n    return this.headerDataView[0];\n  }\n  get version() {\n    return this.headerDataView[1];\n  }\n  get frameRowOffset() {\n    return this.headerDataView[2];\n  }\n  get frameFormat() {\n    return this.headerDataView[3];\n  }\n  get frameWidth() {\n    return this.headerDataView[4];\n  }\n  get frameHeight() {\n    return this.headerDataView[5];\n  }\n  get multiStreamHeaderRowOffset() {\n    return this.headerDataView[6];\n  }\n  get multiStreamCount() {\n    return this.headerDataView[7];\n  }\n}\nclass E {\n  constructor(e, t) {\n    this.metadataMap = new Map(), this.AUDIO_INFERENCE_RESULT_STREAM_ID = 828664161, this.ATTRIBUTE_ID_MAP_STREAM_ID = 1296320833;\n    const r = new Uint32Array(e);\n    for (let i = 0, o = 0; i < t; i++) {\n      const t = r[o++],\n        i = r[o++],\n        a = r[o++],\n        n = new Uint8Array(e, i, a);\n      this.metadataMap.set(t, n);\n    }\n  }\n  get audioInferenceResult() {\n    return this.metadataMap.get(this.AUDIO_INFERENCE_RESULT_STREAM_ID);\n  }\n  get attributes() {\n    const e = this.metadataMap.get(this.ATTRIBUTE_ID_MAP_STREAM_ID);\n    if (void 0 === e) return;\n    const t = new Map(),\n      r = new TextDecoder(\"utf-8\");\n    let i = 0;\n    const o = e[i] + (e[++i] << 8) + (e[++i] << 16) + (e[++i] << 24);\n    for (let a = 0; a < o && i < e.length - 1; a++) {\n      const o = e[++i] + (e[++i] << 8) + (e[++i] << 16) + (e[++i] << 24),\n        a = e.findIndex((e, t, r) => 0 == e && t > i),\n        n = r.decode(e.slice(++i, a)),\n        s = this.metadataMap.get(o);\n      void 0 !== s && t.set(n, s);\n      i = a + (4 - (a - i) % 4 - 1);\n    }\n    return t;\n  }\n}\nclass v {\n  constructor(r, i) {\n    this.notifyError = r, this.videoFrameHandler = i, this.shouldDiscardAudioInferenceResult = !1, this.transform = (t, r) => e(this, void 0, void 0, function* () {\n      const e = t.timestamp;\n      if (null !== e) try {\n        const {\n            videoFrame: i,\n            metadata: {\n              audioInferenceResult: o,\n              attributes: a\n            } = {}\n          } = yield this.extractVideoFrameAndMetadata(t),\n          n = yield this.videoFrameHandler({\n            videoFrame: i,\n            audioInferenceResult: o,\n            attributes: a\n          }),\n          s = new VideoFrame(n, {\n            timestamp: e\n          });\n        r.enqueue(s), i.close(), t.close(), n.close();\n      } catch (e) {\n        t.close(), this.notifyError(e);\n      } else this.notifyError(\"timestamp of the original video frame is null\");\n    }), this.extractVideoFrameAndMetadata = r => e(this, void 0, void 0, function* () {\n      if (n()) throw t;\n      if (\"NV12\" !== r.format) throw this.notifyError(\"Unsupported video frame pixel format\"), new Error(\"Unsupported video frame pixel format\");\n      const e = {\n          x: 0,\n          y: 0,\n          width: r.codedWidth,\n          height: 2\n        },\n        i = new ArrayBuffer(e.width * e.height * 3 / 2);\n      yield r.copyTo(i, {\n        rect: e\n      });\n      const o = new w(i, this.notifyError),\n        a = {\n          x: 0,\n          y: o.multiStreamHeaderRowOffset,\n          width: r.codedWidth,\n          height: r.codedHeight - o.multiStreamHeaderRowOffset\n        },\n        s = new ArrayBuffer(a.width * a.height * 3 / 2);\n      yield r.copyTo(s, {\n        rect: a\n      });\n      const d = new E(s, o.multiStreamCount);\n      return {\n        videoFrame: new VideoFrame(r, {\n          timestamp: r.timestamp,\n          visibleRect: {\n            x: 0,\n            y: o.frameRowOffset,\n            width: o.frameWidth,\n            height: o.frameHeight\n          }\n        }),\n        metadata: {\n          audioInferenceResult: this.shouldDiscardAudioInferenceResult ? void 0 : d.audioInferenceResult,\n          attributes: d.attributes\n        }\n      };\n    }), o(a(d, \"videoEffectsUtils.transformerWithMetadata.constructor\"), \"video.mediaStream.audioInferenceDiscardStatusChange\", _ref => {\n      let {\n        discardAudioInferenceResult: e\n      } = _ref;\n      this.shouldDiscardAudioInferenceResult = e;\n    });\n  }\n}\nfunction p(e, t) {\n  return (o, n) => {\n    null == t || t.reportApplyingVideoEffect(o || \"\", n), e(o, n).then(() => {\n      null == t || t.reportVideoEffectChanged(o || \"\", n), i(a(d, \"videoEffectsUtils.reportVideoEffectChanged\"), \"video.videoEffectReadiness\", [!0, o, void 0, n]);\n    }).catch(e => {\n      const t = e in r ? e : r.InitializationFailure;\n      i(a(d, \"videoEffectsUtils.effectFailure\"), \"video.videoEffectReadiness\", [!1, o, t, n]);\n    });\n  };\n}\nexport { p as createEffectParameterChangeCallback, h as processMediaStream, c as processMediaStreamWithMetadata };","map":{"version":3,"names":["__awaiter","e","errorNotSupportedOnPlatform","t","EffectFailureReason","r","sendMessageToParent","i","registerHandler","o","getApiVersionTag","a","inServerSideRenderingEnvironment","n","ssrSafeWindow","s","d","h","f","window","chrome","webview","registerTextureStream","l","u","m","writable","c","v","reportGettingTextureStream","getTextureStream","getVideoTracks","length","Error","concat","reportTextureStreamAcquired","MediaStreamTrackGenerator","kind","MediaStreamTrackProcessor","track","readable","pipeThrough","TransformStream","pipeTo","constructor","notifyError","videoFrameHandler","transform","timestamp","videoFrame","VideoFrame","enqueue","close","w","headerBuffer","ONE_TEXTURE_INPUT_ID","INVALID_HEADER_ERROR","UNSUPPORTED_LAYOUT_ERROR","headerDataView","Uint32Array","oneTextureLayoutId","version","frameRowOffset","frameFormat","frameWidth","frameHeight","multiStreamHeaderRowOffset","multiStreamCount","E","metadataMap","Map","AUDIO_INFERENCE_RESULT_STREAM_ID","ATTRIBUTE_ID_MAP_STREAM_ID","Uint8Array","set","audioInferenceResult","get","attributes","TextDecoder","findIndex","decode","slice","shouldDiscardAudioInferenceResult","metadata","extractVideoFrameAndMetadata","format","x","y","width","codedWidth","height","ArrayBuffer","copyTo","rect","codedHeight","visibleRect","_ref","discardAudioInferenceResult","p","reportApplyingVideoEffect","then","reportVideoEffectChanged","catch","InitializationFailure","createEffectParameterChangeCallback","processMediaStream","processMediaStreamWithMetadata"],"sources":["D:/KattSafe/pdf-qa-frontend/node_modules/@microsoft/teams-js/dist/esm/packages/teams-js/src/internal/videoEffectsUtils.js"],"sourcesContent":["import{__awaiter as e}from\"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";import{errorNotSupportedOnPlatform as t}from\"../public/constants.js\";import{EffectFailureReason as r}from\"../public/videoEffects.js\";import{sendMessageToParent as i}from\"./communication.js\";import{registerHandler as o}from\"./handlers.js\";import{getApiVersionTag as a}from\"./telemetry.js\";import{inServerSideRenderingEnvironment as n,ssrSafeWindow as s}from\"./utils.js\";const d=\"v2\";function h(t,r,i,o){var a,s;return e(this,void 0,void 0,(function*(){const e=f();!n()&&(null===(s=null===(a=window.chrome)||void 0===a?void 0:a.webview)||void 0===s||s.registerTextureStream(t,e)),l(yield u(t,i,o),new m(i,r),e.writable)}))}function c(t,r,i,o){var a,s;return e(this,void 0,void 0,(function*(){const e=f();!n()&&(null===(s=null===(a=window.chrome)||void 0===a?void 0:a.webview)||void 0===s||s.registerTextureStream(t,e)),l(yield u(t,i,o),new v(i,r),e.writable)}))}function u(r,i,o){return e(this,void 0,void 0,(function*(){if(n())throw t;const e=s().chrome;try{null==o||o.reportGettingTextureStream(r);const t=(yield e.webview.getTextureStream(r)).getVideoTracks();if(0===t.length)throw new Error(`No video track in stream ${r}`);return null==o||o.reportTextureStreamAcquired(),t[0]}catch(e){throw i(`Failed to get video track from stream ${r}, error: ${e}`),new Error(`Internal error: can't get video track from stream ${r}`)}}))}function f(){if(n())throw t;const e=window.MediaStreamTrackGenerator;if(!e)throw t;return new e({kind:\"video\"})}function l(e,t,r){new(0,s().MediaStreamTrackProcessor)({track:e}).readable.pipeThrough(new TransformStream(t)).pipeTo(r)}class m{constructor(t,r){this.notifyError=t,this.videoFrameHandler=r,this.transform=(t,r)=>e(this,void 0,void 0,(function*(){const e=t.timestamp;if(null!==e)try{const i=yield this.videoFrameHandler({videoFrame:t}),o=new VideoFrame(i,{timestamp:e});r.enqueue(o),t.close(),i.close()}catch(e){t.close(),this.notifyError(e)}else this.notifyError(\"timestamp of the original video frame is null\")}))}}class w{constructor(e,t){if(this.headerBuffer=e,this.notifyError=t,this.ONE_TEXTURE_INPUT_ID=1869900081,this.INVALID_HEADER_ERROR=\"Invalid video frame header\",this.UNSUPPORTED_LAYOUT_ERROR=\"Unsupported texture layout\",this.headerDataView=new Uint32Array(e),this.headerDataView.length<8)throw this.notifyError(this.INVALID_HEADER_ERROR),new Error(this.INVALID_HEADER_ERROR);if(this.headerDataView[0]!==this.ONE_TEXTURE_INPUT_ID)throw this.notifyError(this.UNSUPPORTED_LAYOUT_ERROR),new Error(this.UNSUPPORTED_LAYOUT_ERROR)}get oneTextureLayoutId(){return this.headerDataView[0]}get version(){return this.headerDataView[1]}get frameRowOffset(){return this.headerDataView[2]}get frameFormat(){return this.headerDataView[3]}get frameWidth(){return this.headerDataView[4]}get frameHeight(){return this.headerDataView[5]}get multiStreamHeaderRowOffset(){return this.headerDataView[6]}get multiStreamCount(){return this.headerDataView[7]}}class E{constructor(e,t){this.metadataMap=new Map,this.AUDIO_INFERENCE_RESULT_STREAM_ID=828664161,this.ATTRIBUTE_ID_MAP_STREAM_ID=1296320833;const r=new Uint32Array(e);for(let i=0,o=0;i<t;i++){const t=r[o++],i=r[o++],a=r[o++],n=new Uint8Array(e,i,a);this.metadataMap.set(t,n)}}get audioInferenceResult(){return this.metadataMap.get(this.AUDIO_INFERENCE_RESULT_STREAM_ID)}get attributes(){const e=this.metadataMap.get(this.ATTRIBUTE_ID_MAP_STREAM_ID);if(void 0===e)return;const t=new Map,r=new TextDecoder(\"utf-8\");let i=0;const o=e[i]+(e[++i]<<8)+(e[++i]<<16)+(e[++i]<<24);for(let a=0;a<o&&i<e.length-1;a++){const o=e[++i]+(e[++i]<<8)+(e[++i]<<16)+(e[++i]<<24),a=e.findIndex(((e,t,r)=>0==e&&t>i)),n=r.decode(e.slice(++i,a)),s=this.metadataMap.get(o);void 0!==s&&t.set(n,s);i=a+(4-(a-i)%4-1)}return t}}class v{constructor(r,i){this.notifyError=r,this.videoFrameHandler=i,this.shouldDiscardAudioInferenceResult=!1,this.transform=(t,r)=>e(this,void 0,void 0,(function*(){const e=t.timestamp;if(null!==e)try{const{videoFrame:i,metadata:{audioInferenceResult:o,attributes:a}={}}=yield this.extractVideoFrameAndMetadata(t),n=yield this.videoFrameHandler({videoFrame:i,audioInferenceResult:o,attributes:a}),s=new VideoFrame(n,{timestamp:e});r.enqueue(s),i.close(),t.close(),n.close()}catch(e){t.close(),this.notifyError(e)}else this.notifyError(\"timestamp of the original video frame is null\")})),this.extractVideoFrameAndMetadata=r=>e(this,void 0,void 0,(function*(){if(n())throw t;if(\"NV12\"!==r.format)throw this.notifyError(\"Unsupported video frame pixel format\"),new Error(\"Unsupported video frame pixel format\");const e={x:0,y:0,width:r.codedWidth,height:2},i=new ArrayBuffer(e.width*e.height*3/2);yield r.copyTo(i,{rect:e});const o=new w(i,this.notifyError),a={x:0,y:o.multiStreamHeaderRowOffset,width:r.codedWidth,height:r.codedHeight-o.multiStreamHeaderRowOffset},s=new ArrayBuffer(a.width*a.height*3/2);yield r.copyTo(s,{rect:a});const d=new E(s,o.multiStreamCount);return{videoFrame:new VideoFrame(r,{timestamp:r.timestamp,visibleRect:{x:0,y:o.frameRowOffset,width:o.frameWidth,height:o.frameHeight}}),metadata:{audioInferenceResult:this.shouldDiscardAudioInferenceResult?void 0:d.audioInferenceResult,attributes:d.attributes}}})),o(a(d,\"videoEffectsUtils.transformerWithMetadata.constructor\"),\"video.mediaStream.audioInferenceDiscardStatusChange\",(({discardAudioInferenceResult:e})=>{this.shouldDiscardAudioInferenceResult=e}))}}function p(e,t){return(o,n)=>{null==t||t.reportApplyingVideoEffect(o||\"\",n),e(o,n).then((()=>{null==t||t.reportVideoEffectChanged(o||\"\",n),i(a(d,\"videoEffectsUtils.reportVideoEffectChanged\"),\"video.videoEffectReadiness\",[!0,o,void 0,n])})).catch((e=>{const t=e in r?e:r.InitializationFailure;i(a(d,\"videoEffectsUtils.effectFailure\"),\"video.videoEffectReadiness\",[!1,o,t,n])}))}}export{p as createEffectParameterChangeCallback,h as processMediaStream,c as processMediaStreamWithMetadata};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
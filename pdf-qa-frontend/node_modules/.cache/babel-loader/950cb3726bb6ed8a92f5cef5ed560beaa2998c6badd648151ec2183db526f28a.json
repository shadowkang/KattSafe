{"ast":null,"code":"import { __awaiter as t } from \"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";\nimport { sendMessageToParentAsync as e, sendMessageToParent as n, waitForMessageQueue as i, Communication as r } from \"../internal/communication.js\";\nimport { ensureInitialized as a, ensureInitializeCalled as o } from \"../internal/internalAPIs.js\";\nimport { getApiVersionTag as c } from \"../internal/telemetry.js\";\nimport { fullyQualifyUrlString as u, validateUrl as l } from \"../internal/utils.js\";\nimport { FrameContexts as s } from \"./constants.js\";\nimport { runtime as h } from \"./runtime.js\";\nconst f = \"v1\",\n  m = \"v2\";\nlet d;\nfunction b(t) {\n  d = t;\n}\nfunction k(n) {\n  const i = void 0 !== n,\n    r = i ? n : d;\n  if (!r) throw new Error(\"No parameters are provided for authentication\");\n  a(h, s.content, s.sidePanel, s.settings, s.remove, s.task, s.stage, s.meetingStage);\n  return function (n, i) {\n    return t(this, void 0, void 0, function* () {\n      const t = u(i.url);\n      return l(t), e(n, \"authentication.authenticate\", [t.href, i.width, i.height, i.isExternal]).then(_ref => {\n        let [t, e] = _ref;\n        if (t) return e;\n        throw new Error(e);\n      });\n    });\n  }(r.successCallback || r.failureCallback ? c(f, \"authentication.authenticate\") : c(m, \"authentication.authenticate\"), r).then(t => {\n    try {\n      return r && r.successCallback ? (r.successCallback(t), \"\") : t;\n    } finally {\n      i || (d = void 0);\n    }\n  }).catch(t => {\n    try {\n      if (r && r.failureCallback) return r.failureCallback(t.message), \"\";\n      throw t;\n    } finally {\n      i || (d = void 0);\n    }\n  });\n}\nfunction p(t) {\n  o();\n  return function (t, n) {\n    return new Promise(i => {\n      i(e(t, \"authentication.getAuthToken\", [null == n ? void 0 : n.resources, null == n ? void 0 : n.claims, null == n ? void 0 : n.silent, null == n ? void 0 : n.tenantId]));\n    }).then(_ref2 => {\n      let [t, e] = _ref2;\n      if (t) return e;\n      throw new Error(e);\n    });\n  }(t && (t.successCallback || t.failureCallback) ? c(f, \"authentication.getAuthToken\") : c(m, \"authentication.getAuthToken\"), t).then(e => t && t.successCallback ? (t.successCallback(e), \"\") : e).catch(e => {\n    if (t && t.failureCallback) return t.failureCallback(e.message), \"\";\n    throw e;\n  });\n}\nfunction C(t) {\n  o();\n  return function (t) {\n    return new Promise(n => {\n      n(e(t, \"authentication.getUser\"));\n    }).then(_ref3 => {\n      let [t, e] = _ref3;\n      if (t) return e;\n      throw e;\n    });\n  }(t && (t.successCallback || t.failureCallback) ? c(f, \"authentication.getUser\") : c(m, \"authentication.getUser\")).then(e => t && t.successCallback ? (t.successCallback(e), null) : e).catch(e => {\n    const n = \"Error returned, code = \".concat(e.errorCode, \", message = \").concat(e.message);\n    if (t && t.failureCallback) return t.failureCallback(n), null;\n    throw new Error(n);\n  });\n}\nfunction w(t, e) {\n  a(h, s.authentication);\n  const o = c(e ? f : m, \"authentication.notifySuccess\");\n  n(o, \"authentication.authenticate.success\", [t]), i(r.parentWindow, () => setTimeout(() => r.currentWindow.close(), 200));\n}\nfunction g(t, e) {\n  a(h, s.authentication);\n  const o = c(e ? f : m, \"authentication.notifyFailure\");\n  n(o, \"authentication.authenticate.failure\", [t]), i(r.parentWindow, () => setTimeout(() => r.currentWindow.close(), 200));\n}\nvar v;\n!function (t) {\n  t.Public = \"public\", t.EUDB = \"eudb\", t.Other = \"other\";\n}(v || (v = {}));\nexport { v as DataResidency, k as authenticate, p as getAuthToken, C as getUser, g as notifyFailure, w as notifySuccess, b as registerAuthenticationHandlers };","map":{"version":3,"names":["__awaiter","t","sendMessageToParentAsync","e","sendMessageToParent","n","waitForMessageQueue","i","Communication","r","ensureInitialized","a","ensureInitializeCalled","o","getApiVersionTag","c","fullyQualifyUrlString","u","validateUrl","l","FrameContexts","s","runtime","h","f","m","d","b","k","Error","content","sidePanel","settings","remove","task","stage","meetingStage","url","href","width","height","isExternal","then","_ref","successCallback","failureCallback","catch","message","p","Promise","resources","claims","silent","tenantId","_ref2","C","_ref3","concat","errorCode","w","authentication","parentWindow","setTimeout","currentWindow","close","g","v","Public","EUDB","Other","DataResidency","authenticate","getAuthToken","getUser","notifyFailure","notifySuccess","registerAuthenticationHandlers"],"sources":["D:/KattSafe/pdf-qa-frontend/node_modules/@microsoft/teams-js/dist/esm/packages/teams-js/src/public/authentication.js"],"sourcesContent":["import{__awaiter as t}from\"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";import{sendMessageToParentAsync as e,sendMessageToParent as n,waitForMessageQueue as i,Communication as r}from\"../internal/communication.js\";import{ensureInitialized as a,ensureInitializeCalled as o}from\"../internal/internalAPIs.js\";import{getApiVersionTag as c}from\"../internal/telemetry.js\";import{fullyQualifyUrlString as u,validateUrl as l}from\"../internal/utils.js\";import{FrameContexts as s}from\"./constants.js\";import{runtime as h}from\"./runtime.js\";const f=\"v1\",m=\"v2\";let d;function b(t){d=t}function k(n){const i=void 0!==n,r=i?n:d;if(!r)throw new Error(\"No parameters are provided for authentication\");a(h,s.content,s.sidePanel,s.settings,s.remove,s.task,s.stage,s.meetingStage);return function(n,i){return t(this,void 0,void 0,(function*(){const t=u(i.url);return l(t),e(n,\"authentication.authenticate\",[t.href,i.width,i.height,i.isExternal]).then((([t,e])=>{if(t)return e;throw new Error(e)}))}))}(r.successCallback||r.failureCallback?c(f,\"authentication.authenticate\"):c(m,\"authentication.authenticate\"),r).then((t=>{try{return r&&r.successCallback?(r.successCallback(t),\"\"):t}finally{i||(d=void 0)}})).catch((t=>{try{if(r&&r.failureCallback)return r.failureCallback(t.message),\"\";throw t}finally{i||(d=void 0)}}))}function p(t){o();return function(t,n){return new Promise((i=>{i(e(t,\"authentication.getAuthToken\",[null==n?void 0:n.resources,null==n?void 0:n.claims,null==n?void 0:n.silent,null==n?void 0:n.tenantId]))})).then((([t,e])=>{if(t)return e;throw new Error(e)}))}(t&&(t.successCallback||t.failureCallback)?c(f,\"authentication.getAuthToken\"):c(m,\"authentication.getAuthToken\"),t).then((e=>t&&t.successCallback?(t.successCallback(e),\"\"):e)).catch((e=>{if(t&&t.failureCallback)return t.failureCallback(e.message),\"\";throw e}))}function C(t){o();return function(t){return new Promise((n=>{n(e(t,\"authentication.getUser\"))})).then((([t,e])=>{if(t)return e;throw e}))}(t&&(t.successCallback||t.failureCallback)?c(f,\"authentication.getUser\"):c(m,\"authentication.getUser\")).then((e=>t&&t.successCallback?(t.successCallback(e),null):e)).catch((e=>{const n=`Error returned, code = ${e.errorCode}, message = ${e.message}`;if(t&&t.failureCallback)return t.failureCallback(n),null;throw new Error(n)}))}function w(t,e){a(h,s.authentication);const o=c(e?f:m,\"authentication.notifySuccess\");n(o,\"authentication.authenticate.success\",[t]),i(r.parentWindow,(()=>setTimeout((()=>r.currentWindow.close()),200)))}function g(t,e){a(h,s.authentication);const o=c(e?f:m,\"authentication.notifyFailure\");n(o,\"authentication.authenticate.failure\",[t]),i(r.parentWindow,(()=>setTimeout((()=>r.currentWindow.close()),200)))}var v;!function(t){t.Public=\"public\",t.EUDB=\"eudb\",t.Other=\"other\"}(v||(v={}));export{v as DataResidency,k as authenticate,p as getAuthToken,C as getUser,g as notifyFailure,w as notifySuccess,b as registerAuthenticationHandlers};\n"],"mappings":"AAAA,SAAOA,SAAS,IAAIC,CAAC,QAAK,4IAA4I;AAAC,SAAOC,wBAAwB,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,EAACC,mBAAmB,IAAIC,CAAC,EAACC,aAAa,IAAIC,CAAC,QAAK,8BAA8B;AAAC,SAAOC,iBAAiB,IAAIC,CAAC,EAACC,sBAAsB,IAAIC,CAAC,QAAK,6BAA6B;AAAC,SAAOC,gBAAgB,IAAIC,CAAC,QAAK,0BAA0B;AAAC,SAAOC,qBAAqB,IAAIC,CAAC,EAACC,WAAW,IAAIC,CAAC,QAAK,sBAAsB;AAAC,SAAOC,aAAa,IAAIC,CAAC,QAAK,gBAAgB;AAAC,SAAOC,OAAO,IAAIC,CAAC,QAAK,cAAc;AAAC,MAAMC,CAAC,GAAC,IAAI;EAACC,CAAC,GAAC,IAAI;AAAC,IAAIC,CAAC;AAAC,SAASC,CAACA,CAAC1B,CAAC,EAAC;EAACyB,CAAC,GAACzB,CAAC;AAAA;AAAC,SAAS2B,CAACA,CAACvB,CAAC,EAAC;EAAC,MAAME,CAAC,GAAC,KAAK,CAAC,KAAGF,CAAC;IAACI,CAAC,GAACF,CAAC,GAACF,CAAC,GAACqB,CAAC;EAAC,IAAG,CAACjB,CAAC,EAAC,MAAM,IAAIoB,KAAK,CAAC,+CAA+C,CAAC;EAAClB,CAAC,CAACY,CAAC,EAACF,CAAC,CAACS,OAAO,EAACT,CAAC,CAACU,SAAS,EAACV,CAAC,CAACW,QAAQ,EAACX,CAAC,CAACY,MAAM,EAACZ,CAAC,CAACa,IAAI,EAACb,CAAC,CAACc,KAAK,EAACd,CAAC,CAACe,YAAY,CAAC;EAAC,OAAO,UAAS/B,CAAC,EAACE,CAAC,EAAC;IAAC,OAAON,CAAC,CAAC,IAAI,EAAC,KAAK,CAAC,EAAC,KAAK,CAAC,EAAE,aAAW;MAAC,MAAMA,CAAC,GAACgB,CAAC,CAACV,CAAC,CAAC8B,GAAG,CAAC;MAAC,OAAOlB,CAAC,CAAClB,CAAC,CAAC,EAACE,CAAC,CAACE,CAAC,EAAC,6BAA6B,EAAC,CAACJ,CAAC,CAACqC,IAAI,EAAC/B,CAAC,CAACgC,KAAK,EAAChC,CAAC,CAACiC,MAAM,EAACjC,CAAC,CAACkC,UAAU,CAAC,CAAC,CAACC,IAAI,CAAEC,IAAA,IAAS;QAAA,IAAR,CAAC1C,CAAC,EAACE,CAAC,CAAC,GAAAwC,IAAA;QAAI,IAAG1C,CAAC,EAAC,OAAOE,CAAC;QAAC,MAAM,IAAI0B,KAAK,CAAC1B,CAAC,CAAC;MAAA,CAAE,CAAC;IAAA,CAAE,CAAC;EAAA,CAAC,CAACM,CAAC,CAACmC,eAAe,IAAEnC,CAAC,CAACoC,eAAe,GAAC9B,CAAC,CAACS,CAAC,EAAC,6BAA6B,CAAC,GAACT,CAAC,CAACU,CAAC,EAAC,6BAA6B,CAAC,EAAChB,CAAC,CAAC,CAACiC,IAAI,CAAEzC,CAAC,IAAE;IAAC,IAAG;MAAC,OAAOQ,CAAC,IAAEA,CAAC,CAACmC,eAAe,IAAEnC,CAAC,CAACmC,eAAe,CAAC3C,CAAC,CAAC,EAAC,EAAE,IAAEA,CAAC;IAAA,CAAC,SAAO;MAACM,CAAC,KAAGmB,CAAC,GAAC,KAAK,CAAC,CAAC;IAAA;EAAC,CAAE,CAAC,CAACoB,KAAK,CAAE7C,CAAC,IAAE;IAAC,IAAG;MAAC,IAAGQ,CAAC,IAAEA,CAAC,CAACoC,eAAe,EAAC,OAAOpC,CAAC,CAACoC,eAAe,CAAC5C,CAAC,CAAC8C,OAAO,CAAC,EAAC,EAAE;MAAC,MAAM9C,CAAC;IAAA,CAAC,SAAO;MAACM,CAAC,KAAGmB,CAAC,GAAC,KAAK,CAAC,CAAC;IAAA;EAAC,CAAE,CAAC;AAAA;AAAC,SAASsB,CAACA,CAAC/C,CAAC,EAAC;EAACY,CAAC,CAAC,CAAC;EAAC,OAAO,UAASZ,CAAC,EAACI,CAAC,EAAC;IAAC,OAAO,IAAI4C,OAAO,CAAE1C,CAAC,IAAE;MAACA,CAAC,CAACJ,CAAC,CAACF,CAAC,EAAC,6BAA6B,EAAC,CAAC,IAAI,IAAEI,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAAC6C,SAAS,EAAC,IAAI,IAAE7C,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAAC8C,MAAM,EAAC,IAAI,IAAE9C,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAAC+C,MAAM,EAAC,IAAI,IAAE/C,CAAC,GAAC,KAAK,CAAC,GAACA,CAAC,CAACgD,QAAQ,CAAC,CAAC,CAAC;IAAA,CAAE,CAAC,CAACX,IAAI,CAAEY,KAAA,IAAS;MAAA,IAAR,CAACrD,CAAC,EAACE,CAAC,CAAC,GAAAmD,KAAA;MAAI,IAAGrD,CAAC,EAAC,OAAOE,CAAC;MAAC,MAAM,IAAI0B,KAAK,CAAC1B,CAAC,CAAC;IAAA,CAAE,CAAC;EAAA,CAAC,CAACF,CAAC,KAAGA,CAAC,CAAC2C,eAAe,IAAE3C,CAAC,CAAC4C,eAAe,CAAC,GAAC9B,CAAC,CAACS,CAAC,EAAC,6BAA6B,CAAC,GAACT,CAAC,CAACU,CAAC,EAAC,6BAA6B,CAAC,EAACxB,CAAC,CAAC,CAACyC,IAAI,CAAEvC,CAAC,IAAEF,CAAC,IAAEA,CAAC,CAAC2C,eAAe,IAAE3C,CAAC,CAAC2C,eAAe,CAACzC,CAAC,CAAC,EAAC,EAAE,IAAEA,CAAE,CAAC,CAAC2C,KAAK,CAAE3C,CAAC,IAAE;IAAC,IAAGF,CAAC,IAAEA,CAAC,CAAC4C,eAAe,EAAC,OAAO5C,CAAC,CAAC4C,eAAe,CAAC1C,CAAC,CAAC4C,OAAO,CAAC,EAAC,EAAE;IAAC,MAAM5C,CAAC;EAAA,CAAE,CAAC;AAAA;AAAC,SAASoD,CAACA,CAACtD,CAAC,EAAC;EAACY,CAAC,CAAC,CAAC;EAAC,OAAO,UAASZ,CAAC,EAAC;IAAC,OAAO,IAAIgD,OAAO,CAAE5C,CAAC,IAAE;MAACA,CAAC,CAACF,CAAC,CAACF,CAAC,EAAC,wBAAwB,CAAC,CAAC;IAAA,CAAE,CAAC,CAACyC,IAAI,CAAEc,KAAA,IAAS;MAAA,IAAR,CAACvD,CAAC,EAACE,CAAC,CAAC,GAAAqD,KAAA;MAAI,IAAGvD,CAAC,EAAC,OAAOE,CAAC;MAAC,MAAMA,CAAC;IAAA,CAAE,CAAC;EAAA,CAAC,CAACF,CAAC,KAAGA,CAAC,CAAC2C,eAAe,IAAE3C,CAAC,CAAC4C,eAAe,CAAC,GAAC9B,CAAC,CAACS,CAAC,EAAC,wBAAwB,CAAC,GAACT,CAAC,CAACU,CAAC,EAAC,wBAAwB,CAAC,CAAC,CAACiB,IAAI,CAAEvC,CAAC,IAAEF,CAAC,IAAEA,CAAC,CAAC2C,eAAe,IAAE3C,CAAC,CAAC2C,eAAe,CAACzC,CAAC,CAAC,EAAC,IAAI,IAAEA,CAAE,CAAC,CAAC2C,KAAK,CAAE3C,CAAC,IAAE;IAAC,MAAME,CAAC,6BAAAoD,MAAA,CAA2BtD,CAAC,CAACuD,SAAS,kBAAAD,MAAA,CAAetD,CAAC,CAAC4C,OAAO,CAAE;IAAC,IAAG9C,CAAC,IAAEA,CAAC,CAAC4C,eAAe,EAAC,OAAO5C,CAAC,CAAC4C,eAAe,CAACxC,CAAC,CAAC,EAAC,IAAI;IAAC,MAAM,IAAIwB,KAAK,CAACxB,CAAC,CAAC;EAAA,CAAE,CAAC;AAAA;AAAC,SAASsD,CAACA,CAAC1D,CAAC,EAACE,CAAC,EAAC;EAACQ,CAAC,CAACY,CAAC,EAACF,CAAC,CAACuC,cAAc,CAAC;EAAC,MAAM/C,CAAC,GAACE,CAAC,CAACZ,CAAC,GAACqB,CAAC,GAACC,CAAC,EAAC,8BAA8B,CAAC;EAACpB,CAAC,CAACQ,CAAC,EAAC,qCAAqC,EAAC,CAACZ,CAAC,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,CAACoD,YAAY,EAAE,MAAIC,UAAU,CAAE,MAAIrD,CAAC,CAACsD,aAAa,CAACC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAE,CAAC;AAAA;AAAC,SAASC,CAACA,CAAChE,CAAC,EAACE,CAAC,EAAC;EAACQ,CAAC,CAACY,CAAC,EAACF,CAAC,CAACuC,cAAc,CAAC;EAAC,MAAM/C,CAAC,GAACE,CAAC,CAACZ,CAAC,GAACqB,CAAC,GAACC,CAAC,EAAC,8BAA8B,CAAC;EAACpB,CAAC,CAACQ,CAAC,EAAC,qCAAqC,EAAC,CAACZ,CAAC,CAAC,CAAC,EAACM,CAAC,CAACE,CAAC,CAACoD,YAAY,EAAE,MAAIC,UAAU,CAAE,MAAIrD,CAAC,CAACsD,aAAa,CAACC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAE,CAAC;AAAA;AAAC,IAAIE,CAAC;AAAC,CAAC,UAASjE,CAAC,EAAC;EAACA,CAAC,CAACkE,MAAM,GAAC,QAAQ,EAAClE,CAAC,CAACmE,IAAI,GAAC,MAAM,EAACnE,CAAC,CAACoE,KAAK,GAAC,OAAO;AAAA,CAAC,CAACH,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;AAAC,SAAOA,CAAC,IAAII,aAAa,EAAC1C,CAAC,IAAI2C,YAAY,EAACvB,CAAC,IAAIwB,YAAY,EAACjB,CAAC,IAAIkB,OAAO,EAACR,CAAC,IAAIS,aAAa,EAACf,CAAC,IAAIgB,aAAa,EAAChD,CAAC,IAAIiD,8BAA8B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
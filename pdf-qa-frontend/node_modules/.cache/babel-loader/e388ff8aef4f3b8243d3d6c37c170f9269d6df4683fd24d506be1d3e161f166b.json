{"ast":null,"code":"import e from \"../../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js\";\nconst t = \"1.0.1\",\n  n = {\n    onMessage: function (e, t) {\n      if (!e || !e.data || \"object\" != typeof e.data || null === e.data) return void a(\"Invalid message format, ignoring. Message: %o\", e);\n      if (!function (e, t) {\n        if (t === o) try {\n          return \"https:\" === new URL(t).protocol;\n        } catch (e) {\n          return d(\"Invalid message origin URL:\", e), !1;\n        }\n        return !1;\n      }(e.source, e.origin)) return void a(\"Message source/origin not allowed, ignoring.\");\n      const {\n          args: n\n        } = e.data,\n        [, r] = null != n ? n : [],\n        i = (() => {\n          try {\n            return JSON.parse(r);\n          } catch (e) {\n            return d(\"Failed to parse response message:\", e), null;\n          }\n        })();\n      if (!i || \"NestedAppAuthResponse\" !== i.messageType) return void a(\"Invalid response format, ignoring. Message: %o\", e);\n      t(r);\n    }\n  };\nlet o = null,\n  r = !1;\nfunction i(t, i) {\n  let p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n  if (r = p, !t) throw new Error(\"Cannot polyfill nestedAppAuthBridge as the current window does not exist\");\n  if (!i) throw new Error(\"Top origin is required to initialize the Nested App Auth Bridge\");\n  try {\n    const e = new URL(i);\n    if (\"https:\" !== e.protocol) throw new Error(\"Invalid top origin: \".concat(i, \". Only HTTPS origins are allowed.\"));\n    o = e.origin;\n  } catch (e) {\n    throw new Error(\"Failed to initialize bridge: invalid top origin: \".concat(i));\n  }\n  const u = t;\n  if (u.nestedAppAuthBridge) return void a(\"Nested App Auth Bridge is already present\");\n  const g = function (t) {\n    const r = new WeakMap(),\n      {\n        onMessage: i\n      } = n,\n      p = e => t => i(t, e);\n    return {\n      addEventListener: (e, n) => {\n        if (\"message\" === e) {\n          const o = p(n);\n          r.set(n, o), t.addEventListener(e, o);\n        } else a(\"Event \".concat(e, \" is not supported by nestedAppAuthBridge\"));\n      },\n      postMessage: n => {\n        if (!t.top) throw new Error(\"window.top is not available for posting messages\");\n        try {\n          const r = JSON.parse(n);\n          if (\"object\" == typeof r && \"NestedAppAuthRequest\" === r.messageType) {\n            const r = function (t) {\n              const n = Date.now();\n              return {\n                id: s(),\n                uuid: e(),\n                func: \"nestedAppAuth.execute\",\n                timestamp: n,\n                apiVersionTag: \"v2_nestedAppAuth.execute\",\n                monotonicTimestamp: n,\n                args: [],\n                data: t\n              };\n            }(n);\n            if (t === t.top || !o) return void d(\"Not in an embedded iframe; skipping postMessage.\");\n            t.top.postMessage(r, o);\n          }\n        } catch (e) {\n          return void d(\"Failed to parse message:\", e, \"Original message:\", n);\n        }\n      },\n      removeEventListener: (e, n) => {\n        const o = r.get(n);\n        o && (t.removeEventListener(e, o), r.delete(n));\n      }\n    };\n  }(u);\n  g && (u.nestedAppAuthBridge = g);\n}\nfunction s() {\n  return \"undefined\" != typeof crypto && crypto.randomUUID ? crypto.randomUUID() : Math.random().toString(36).substring(2, 11);\n}\nfunction a() {\n  r && console.log(...arguments);\n}\nfunction d() {\n  r && console.error(...arguments);\n}\nexport { i as initialize, t as version };","map":{"version":3,"names":["e","t","n","onMessage","data","a","o","URL","protocol","d","source","origin","args","r","i","JSON","parse","messageType","p","arguments","length","undefined","Error","concat","u","nestedAppAuthBridge","g","WeakMap","addEventListener","set","postMessage","top","Date","now","id","s","uuid","func","timestamp","apiVersionTag","monotonicTimestamp","removeEventListener","get","delete","crypto","randomUUID","Math","random","toString","substring","console","log","error","initialize","version"],"sources":["D:/KattSafe/pdf-qa-frontend/node_modules/@microsoft/teams-js/dist/esm/packages/teams-js/src/private/nestedAppAuth/nestedAppAuthBridge.js"],"sourcesContent":["import e from\"../../../../../node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js\";const t=\"1.0.1\",n={onMessage:function(e,t){if(!e||!e.data||\"object\"!=typeof e.data||null===e.data)return void a(\"Invalid message format, ignoring. Message: %o\",e);if(!function(e,t){if(t===o)try{return\"https:\"===new URL(t).protocol}catch(e){return d(\"Invalid message origin URL:\",e),!1}return!1}(e.source,e.origin))return void a(\"Message source/origin not allowed, ignoring.\");const{args:n}=e.data,[,r]=null!=n?n:[],i=(()=>{try{return JSON.parse(r)}catch(e){return d(\"Failed to parse response message:\",e),null}})();if(!i||\"NestedAppAuthResponse\"!==i.messageType)return void a(\"Invalid response format, ignoring. Message: %o\",e);t(r)}};let o=null,r=!1;function i(t,i,p=!1){if(r=p,!t)throw new Error(\"Cannot polyfill nestedAppAuthBridge as the current window does not exist\");if(!i)throw new Error(\"Top origin is required to initialize the Nested App Auth Bridge\");try{const e=new URL(i);if(\"https:\"!==e.protocol)throw new Error(`Invalid top origin: ${i}. Only HTTPS origins are allowed.`);o=e.origin}catch(e){throw new Error(`Failed to initialize bridge: invalid top origin: ${i}`)}const u=t;if(u.nestedAppAuthBridge)return void a(\"Nested App Auth Bridge is already present\");const g=function(t){const r=new WeakMap,{onMessage:i}=n,p=e=>t=>i(t,e);return{addEventListener:(e,n)=>{if(\"message\"===e){const o=p(n);r.set(n,o),t.addEventListener(e,o)}else a(`Event ${e} is not supported by nestedAppAuthBridge`)},postMessage:n=>{if(!t.top)throw new Error(\"window.top is not available for posting messages\");try{const r=JSON.parse(n);if(\"object\"==typeof r&&\"NestedAppAuthRequest\"===r.messageType){const r=function(t){const n=Date.now();return{id:s(),uuid:e(),func:\"nestedAppAuth.execute\",timestamp:n,apiVersionTag:\"v2_nestedAppAuth.execute\",monotonicTimestamp:n,args:[],data:t}}(n);if(t===t.top||!o)return void d(\"Not in an embedded iframe; skipping postMessage.\");t.top.postMessage(r,o)}}catch(e){return void d(\"Failed to parse message:\",e,\"Original message:\",n)}},removeEventListener:(e,n)=>{const o=r.get(n);o&&(t.removeEventListener(e,o),r.delete(n))}}}(u);g&&(u.nestedAppAuthBridge=g)}function s(){return\"undefined\"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).substring(2,11)}function a(...e){r&&console.log(...e)}function d(...e){r&&console.error(...e)}export{i as initialize,t as version};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}